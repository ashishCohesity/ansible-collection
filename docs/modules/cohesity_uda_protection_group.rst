.. _cohesity_uda_protection_group_module:


cohesity_uda_protection_group -- Management of Cohesity UDA Protection Groups
=============================================================================

.. contents::
   :local:
   :depth: 1


Synopsis
--------

Ansible Module used to register, remove, start, and stop the Cohesity Protection Group on a Cohesity Cluster.

When executed in a playbook, the Cohesity Protection Group will be validated and the appropriate state action

will be applied.



Requirements
------------
The below requirements are needed on the host that executes this module.

- python \>= 3.6
- cohesity\_management\_sdk \>= 1.6.0



Parameters
----------

  alerting_policy (optional, str, None)
    Specifies a policy for alerting users of the status of a Protection Group.

    Default value is Success


  alert_targets (optional, list, [])
    Specifies list of alert target objects to receive an alert

    For every object, User need to specify email address, language and recepient type.

    email\_address - Specifies an email address to receive an alert

    language - Specifies the language of the delivery target. Default value is 'en-us'. choices - en-us, ja-jp, zh-cn

    recipient\_type - Specifies the recipient type of email recipient. Default value is 'kTo'. choices - To, Cc


  cancel_active (optional, bool, False)
    Specifies if Current Running Backup Group should be canceled.  If False, active groups will not be stopped

    and a failure will be raised.

    Optional and only valid when \ :emphasis:`state=stopped`\ 


  cluster (optional, str, None)
    IP or FQDN for the Cohesity Cluster


  cohesity_admin (optional, str, None)
    Username with which Ansible will connect to the Cohesity Cluster. Domain Specific credentails can be configured in following formats

    username@AD.domain.com

    AD.domain.com/username@tenant

    LOCAL/username@tenant

    Domain/username (Will be deprecated in future)


  cohesity_password (optional, str, None)
    Password belonging to the selected Username.  This parameter will not be logged.


  delete_backups (optional, bool, False)
    Specifies if Snapshots generated by the Protection Group should also be deleted when the Group is deleted.

    Optional and only valid when \ :emphasis:`state=absent`\ 


  description (optional, str, )
    Optional Description to assign to the Protection Group


  endpoint (optional, str, )
    Ip address of the Uda host.


  environment (False, str, UDA)
    Specifies the environment type of the group.


  full_backup_args (optional, str, )
    Specifies the custom arguments to be supplied to the full backup script when a full backup is enabled in the policy.


  incr_backup_args (optional, str, )
    Specifies the custom arguments to be supplied to the incremental backup script when an incremental backup is enabled in the policy.


  log_backup_args (optional, str, )
    Specifies the custom arguments to be supplied to the log backup script when a log backup is enabled in the policy.


  concurrency (optional, int, 1)
    Specifies the maximum number of concurrent IO Streams that will be created to exchange data with the cluster.


  mounts (optional, int, 1)
    Specifies the maximum number of view mounts per host.


  name (True, str, None)
    Name to assign to the Protection Group


  objects (optional, list, [])
    Defines the list of objects to be protected.


  ondemand_run_type (optional, str, Regular)
    Specifies the type of OnDemand Backup.


  protection_policy (optional, str, Bronze)
    Valid policy name or ID for andexisting Protection Policy to be assigned to the group.

    Required when \ :emphasis:`state=present`\ .


  start_time (optional, str, 00:00)
    Specifies the registered start time for the Protection Group.  Format must be 24hr time in either HHMM or HH:MM style.

    If not configured then the Cluster will automatically select a time.


  state (optional, str, present)
    Determines the state of the Protection Group


  storage_domain (optional, str, DefaultStorageDomain)
    Existing Storage Domain to which the Protection Group will be associated. Required when \ :emphasis:`state=present`\ .


  time_zone (optional, str, America/Los_Angeles)
    Specifies the timezone to use when calculating time for this Protection Group such as the Group start time.


  validate_certs (optional, bool, False)
    Switch determines if SSL Validation should be enabled or not.


  is_paused (optional, bool, True)
    Switch determines whether the newly created job run should be enabled or not.





Notes
-----

.. note::
   - Currently, the Ansible Module requires Full Cluster Administrator access.




Examples
--------

.. code-block:: yaml+jinja

    
    # Create a new UDA Protection Group
    - cohesity_uda_group:
        cluster: cohesity.lab
        username: admin
        password: password
        state: present
        name: myhost
        endpoint: cohesity-source-ip
        protection_policy: Bronze
        storage_domain: Default
        alerting_policy: Failure
        alert_targets:
          - email_address: test@cohesity.com
            language: ja-jp
            recipient_type: Cc
          - email_address: demo@cohesity.com





Status
------





Authors
~~~~~~~

- Naveena (@naveena-maplelabs)

